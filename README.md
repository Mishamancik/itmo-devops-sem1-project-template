# Финальный проект 1 семестра

Задание для простого уровня сложности: REST API сервис для загрузки и выгрузки данных о ценах.

## Требования к системе

Для локального запуска приложения вам понадобятся:

- GitHub и Git
- Docker или локальный PostgreSQL
- Go версии 1.23.3

## Установка и запуск

Чтобы установить и запустить приложение локально:

1. Сделайте fork этого репозитория к себе в GitHub.
2. Сделайте `git clone` проекта к себе на рабочую машину.
3. Настройте и запустите базу данных PostgreSQL:

**Вариант с Docker:**

```bash
docker run --name project-sem-1-db \
  -e POSTGRES_USER=validator \
  -e POSTGRES_PASSWORD=val1dat0r \
  -e POSTGRES_DB=project-sem-1 \
  -p 5432:5432 \
  -d postgres:15
```

**Вариант без Docker:**

- Установите PostgreSQL (например, через пакетный менеджер вашей ОС).
- Создайте базу данных и пользователя:

```sql
CREATE USER validator WITH PASSWORD 'val1dat0r';
CREATE DATABASE project_sem_1 OWNER validator;
```

- Убедитесь, что сервер PostgreSQL запущен и слушает порт 5432.

4. Запустите подготовку базы и зависимостей:

```bash
./scripts/prepare.sh
```

5. Запустите сервер приложения:

```bash
./scripts/run.sh
```

6. После сообщения о запуске сервера на порту 8080 можно тестировать приложение.

### Примеры запросов к API

**POST-запрос для загрузки данных:**

```bash
curl -X POST -F "file=@sample_data.zip" http://localhost:8080/api/v0/prices
```

**GET-запрос для выгрузки данных:**

```bash
curl -X GET http://localhost:8080/api/v0/prices -o result.zip
```

## Тестирование

Директория `sample_data` — пример директории, соответствующей разархивированному файлу `sample_data.zip`.

Чтобы проверить работу приложения, используйте:

```bash
./scripts/tests.sh 1
```

Скрипт выполняет автоматические проверки загрузки и выгрузки данных, а также соответствие форматов файлов и корректность сохранённых данных.

## Контакт

В случае вопросов можно обратиться на почту: **magradzemikhail@yandex.ru**
